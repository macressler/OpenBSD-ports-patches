$OpenBSD: patch-lenses_resolv_aug,v 1.2 2012/12/30 21:30:57 jasper Exp $

From f3b693fe2b150e0c513d6c6a007c0fd70c265b4e Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date: Sat, 29 Dec 2012 13:11:31 +0000
Subject: Resolv: Add two new views (family and lookup)

Fixes ticket #320

--- lenses/resolv.aug.orig	Sat Dec 29 14:15:29 2012
+++ lenses/resolv.aug	Sat Dec 29 14:15:40 2012
@@ -71,6 +71,26 @@ let sortlist = Build.key_value_line_comment
                            Sep.space) 
                     comment_eol
 
+(* View: lookup *)
+let lookup = 
+  let lookup_entry = Build.flag("bind"|"file"|"yp")
+    in Build.key_value_line_comment
+             "lookup" Sep.space
+             (Build.opt_list
+                    lookup_entry
+                    Sep.space)
+             comment_eol
+
+(* View: family *)
+let family =
+  let family_entry = Build.flag("inet4"|"inet6")
+    in Build.key_value_line_comment
+             "family" Sep.space
+             (Build.opt_list
+                    family_entry
+                    Sep.space)
+             comment_eol
+
 (************************************************************************
  * Group:                 SPECIAL OPTIONS
  *************************************************************************)
@@ -104,6 +124,8 @@ let entry = nameserver
           | search
           | sortlist
           | options
+          | lookup
+          | family
 
 (* View: lns *)
 let lns = ( empty | comment | entry )*
