$OpenBSD: patch-media_media_gyp,v 1.10 2011/12/14 16:58:19 robert Exp $
--- media/media.gyp.orig	Wed Dec  7 09:01:07 2011
+++ media/media.gyp	Tue Dec 13 22:45:50 2011
@@ -317,6 +317,7 @@
         ['OS=="openbsd"', {
           'sources/': [ ['exclude', 'alsa_' ],
                         ['exclude', 'audio_manager_linux' ],
+                        ['exclude', 'pulse_' ],
                         ['exclude', '\\.mm?$' ] ],
           'link_settings': {
             'libraries': [
@@ -447,6 +448,11 @@
             '-mssse3',
           ],
         }],
+        [ 'OS == "openbsd"', {
+          'cflags!': [
+             '-mssse3',
+           ],
+        }],
         [ 'OS == "mac"', {
           'configurations': {
             'Debug': {
@@ -479,7 +485,7 @@
             ],
           },
         }],
-        [ 'OS=="linux"', {
+        [ 'OS=="linux" or OS=="openbsd"', {
           'variables': {
             'conditions': [
               [ 'target_arch=="ia32"', {
@@ -765,7 +771,7 @@
         },
       ],
     }],
-    ['OS == "linux" and target_arch != "arm"', {
+    ['(OS == "linux" or OS=="openbsd") and target_arch != "arm"', {
       'targets': [
         {
           'target_name': 'tile_render_bench',
