$OpenBSD: patch-chrome_renderer_nacl_desc_wrapper_chrome_cc,v 1.2 2011/10/27 07:59:08 robert Exp $
--- chrome/renderer/nacl_desc_wrapper_chrome.cc.orig	Fri Oct 21 10:30:31 2011
+++ chrome/renderer/nacl_desc_wrapper_chrome.cc	Wed Oct 26 14:10:40 2011
@@ -14,7 +14,7 @@ namespace nacl {
 DescWrapper* DescWrapperFactory::ImportPepperSharedMemory(intptr_t shm_int,
                                                           size_t size) {
   base::SharedMemory* shm = reinterpret_cast<base::SharedMemory*>(shm_int);
-#if defined(OS_LINUX) || defined(OS_MACOSX)
+#if defined(OS_LINUX) || defined(OS_MACOSX) || defined(OS_OPENBSD)
   return ImportShmHandle(shm->handle().fd, size);
 #elif defined(OS_WIN)
   return ImportShmHandle(shm->handle(), size);
@@ -25,7 +25,7 @@ DescWrapper* DescWrapperFactory::ImportPepperSharedMem
 
 DescWrapper* DescWrapperFactory::ImportPepper2DSharedMemory(intptr_t shm_int) {
   TransportDIB* dib = reinterpret_cast<TransportDIB*>(shm_int);
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_OPENBSD)
   // TransportDIBs use SysV (X) shared memory on Linux.
   return ImportSysvShm(dib->handle(), dib->size());
 #elif defined(OS_MACOSX)
