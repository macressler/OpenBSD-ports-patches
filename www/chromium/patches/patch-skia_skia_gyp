$OpenBSD: patch-skia_skia_gyp,v 1.11 2013/07/15 14:59:30 robert Exp $
--- skia/skia.gyp.orig.port	Wed Jun 12 09:28:14 2013
+++ skia/skia.gyp	Sun Jul  7 15:54:58 2013
@@ -655,7 +655,7 @@
             'SK_BUILD_FOR_ANDROID_NDK',
           ],
         }],
-        [ 'target_arch != "arm" and target_arch != "mipsel"', {
+        [ 'target_arch != "arm" and target_arch != "mipsel" or disable_sse2 != 1', {
           'sources': [
             '../third_party/skia/src/opts/SkBitmapProcState_opts_SSE2.cpp',
             '../third_party/skia/src/opts/SkBlitRect_opts_SSE2.cpp',
@@ -732,7 +732,7 @@
             '../third_party/skia/src/opts/opts_check_arm.cpp',
           ],
         }],
-        [ 'target_arch == "mipsel"',{
+        [ 'target_arch == "mipsel" or disable_sse2 == 1',{
           'cflags': [
             '-fomit-frame-pointer',
           ],
