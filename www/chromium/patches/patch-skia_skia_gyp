$OpenBSD: patch-skia_skia_gyp,v 1.9 2013/04/03 08:19:10 robert Exp $
--- skia/skia.gyp.orig.port	Fri Mar 22 02:13:24 2013
+++ skia/skia.gyp	Tue Apr  2 21:05:17 2013
@@ -664,7 +664,7 @@
             'SK_BUILD_FOR_ANDROID_NDK',
           ],
         }],
-        [ 'target_arch != "arm" and target_arch != "mipsel"', {
+        [ 'target_arch != "arm" and target_arch != "mipsel" or disable_sse2 != 1', {
           'sources': [
             '../third_party/skia/src/opts/SkBitmapProcState_opts_SSE2.cpp',
             '../third_party/skia/src/opts/SkBlitRect_opts_SSE2.cpp',
@@ -745,7 +745,7 @@
             '../third_party/skia/src/opts/opts_check_arm.cpp',
           ],
         }],
-        [ 'target_arch == "mipsel"',{
+        [ 'target_arch == "mipsel" or disable_sse2 == 1',{
           'cflags': [
             '-fomit-frame-pointer',
           ],
