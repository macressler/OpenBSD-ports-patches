$OpenBSD: patch-skia_skia_gyp,v 1.10 2013/05/30 18:42:18 robert Exp $
--- skia/skia.gyp.orig.port	Fri May 17 22:44:24 2013
+++ skia/skia.gyp	Thu May 30 00:10:49 2013
@@ -652,7 +652,7 @@
             'SK_BUILD_FOR_ANDROID_NDK',
           ],
         }],
-        [ 'target_arch != "arm" and target_arch != "mipsel"', {
+        [ 'target_arch != "arm" and target_arch != "mipsel" or disable_sse2 != 1', {
           'sources': [
             '../third_party/skia/src/opts/SkBitmapProcState_opts_SSE2.cpp',
             '../third_party/skia/src/opts/SkBlitRect_opts_SSE2.cpp',
@@ -733,7 +733,7 @@
             '../third_party/skia/src/opts/opts_check_arm.cpp',
           ],
         }],
-        [ 'target_arch == "mipsel"',{
+        [ 'target_arch == "mipsel" or disable_sse2 == 1',{
           'cflags': [
             '-fomit-frame-pointer',
           ],
