$OpenBSD: patch-content_browser_plugin_service_cc,v 1.1 2011/10/27 07:59:09 robert Exp $
--- content/browser/plugin_service.cc.orig	Fri Oct 21 10:29:43 2011
+++ content/browser/plugin_service.cc	Wed Oct 26 14:10:40 2011
@@ -30,7 +30,7 @@
 #include "webkit/plugins/npapi/plugin_list.h"
 #include "webkit/plugins/webplugininfo.h"
 
-#if defined(OS_POSIX) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 using ::base::files::FilePathWatcher;
 #endif
 
@@ -46,7 +46,7 @@ static void NotifyPluginsOfActivation() {
     plugin->OnAppActivation();
   }
 }
-#elif defined(OS_POSIX)
+#elif defined(OS_POSIX) && !defined(OS_OPENBSD)
 // Delegate class for monitoring directories.
 class PluginDirWatcherDelegate : public FilePathWatcher::Delegate {
   virtual void OnFilePathChanged(const FilePath& path) OVERRIDE {
@@ -123,7 +123,7 @@ void PluginService::StartWatchingPlugins() {
       hklm_watcher_.StartWatching(hklm_event_.get(), this);
     }
   }
-#elif defined(OS_POSIX) && !defined(OS_MACOSX)
+#elif defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 // The FilePathWatcher produces too many false positives on MacOS (access time
 // updates?) which will lead to enforcing updates of the plugins way too often.
 // On ChromeOS the user can't install plugins anyway and on Windows all
@@ -496,7 +496,7 @@ PepperPluginInfo* PluginService::GetRegisteredPpapiPlu
   return &ppapi_plugins_[ppapi_plugins_.size() - 1];
 }
 
-#if defined(OS_POSIX) && !defined(OS_MACOSX)
+#if defined(OS_POSIX) && !defined(OS_MACOSX) && !defined(OS_OPENBSD)
 // static
 void PluginService::RegisterFilePathWatcher(
     FilePathWatcher *watcher,
