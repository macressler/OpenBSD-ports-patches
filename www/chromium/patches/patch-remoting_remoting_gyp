$OpenBSD: patch-remoting_remoting_gyp,v 1.8 2013/03/15 08:30:33 robert Exp $
--- remoting/remoting.gyp.orig	Fri Mar  8 18:11:12 2013
+++ remoting/remoting.gyp	Fri Mar  8 18:14:06 2013
@@ -2127,208 +2127,5 @@
         'host/differ_block_sse2.cc',
       ],
     }, # end of target differ_block_sse2
-
-    # Remoting unit tests
-    {
-      'target_name': 'remoting_unittests',
-      'type': 'executable',
-      'dependencies': [
-        'remoting_base',
-        'remoting_resources',
-        'remoting_breakpad',
-        'remoting_client',
-        'remoting_client_plugin',
-        'remoting_host',
-        'remoting_jingle_glue',
-        'remoting_protocol',
-        'remoting_host_setup_base',
-        '../base/base.gyp:base',
-        '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
-        '../media/media.gyp:media',
-        '../net/net.gyp:net_test_support',
-        '../ppapi/ppapi.gyp:ppapi_cpp',
-        '../testing/gmock.gyp:gmock',
-        '../testing/gtest.gyp:gtest',
-        '../ui/ui.gyp:ui',
-      ],
-      'defines': [
-        'VERSION=<(version_full)',
-      ],
-      'include_dirs': [
-        '../testing/gmock/include',
-      ],
-      'sources': [
-        '../chrome/test/base/run_all_remoting_unittests.cc',
-        'base/auth_token_util_unittest.cc',
-        'base/auto_thread_unittest.cc',
-        'base/auto_thread_task_runner_unittest.cc',
-        'base/breakpad_win_unittest.cc',
-        'base/compound_buffer_unittest.cc',
-        'base/resources_unittest.cc',
-        'base/shared_buffer_unittest.cc',
-        'base/typed_buffer_unittest.cc',
-        'base/util_unittest.cc',
-        'client/audio_player_unittest.cc',
-        'client/key_event_mapper_unittest.cc',
-        'client/plugin/mac_key_event_processor_unittest.cc',
-        'codec/audio_encoder_opus_unittest.cc',
-        'codec/codec_test.cc',
-        'codec/codec_test.h',
-        'codec/video_decoder_vp8_unittest.cc',
-        'codec/video_encoder_verbatim_unittest.cc',
-        'codec/video_encoder_vp8_unittest.cc',
-        'host/audio_capturer_win_unittest.cc',
-        'host/branding.cc',
-        'host/branding.h',
-        'host/chromoting_host_context_unittest.cc',
-        'host/chromoting_host_unittest.cc',
-        'host/client_session_unittest.cc',
-        'host/config_file_watcher.cc',
-        'host/config_file_watcher.h',
-        'host/daemon_process.cc',
-        'host/daemon_process.h',
-        'host/daemon_process_unittest.cc',
-        'host/desktop_process.cc',
-        'host/desktop_process.h',
-        'host/desktop_process_unittest.cc',
-        'host/desktop_session.cc',
-        'host/desktop_session.h',
-        'host/desktop_session_agent.cc',
-        'host/desktop_session_agent.h',
-        'host/desktop_session_agent_posix.cc',
-        'host/desktop_session_agent_win.cc',
-        'host/differ_block_unittest.cc',
-        'host/differ_unittest.cc',
-        'host/heartbeat_sender_unittest.cc',
-        'host/host_key_pair_unittest.cc',
-        'host/host_mock_objects.cc',
-        'host/host_mock_objects.h',
-        'host/json_host_config_unittest.cc',
-        'host/linux/x_server_clipboard_unittest.cc',
-        'host/local_input_monitor_unittest.cc',
-        'host/log_to_server_unittest.cc',
-        'host/pin_hash_unittest.cc',
-        'host/policy_hack/fake_policy_watcher.cc',
-        'host/policy_hack/fake_policy_watcher.h',
-        'host/policy_hack/mock_policy_callback.cc',
-        'host/policy_hack/mock_policy_callback.h',
-        'host/policy_hack/policy_watcher_unittest.cc',
-        'host/register_support_host_request_unittest.cc',
-        'host/remote_input_filter_unittest.cc',
-        'host/resizing_host_observer_unittest.cc',
-        'host/server_log_entry_unittest.cc',
-        'host/setup/oauth_helper_unittest.cc',
-        'host/setup/pin_validator_unittest.cc',
-        'host/test_key_pair.h',
-        'host/video_frame_capturer_helper_unittest.cc',
-        'host/video_frame_capturer_mac_unittest.cc',
-        'host/video_frame_capturer_unittest.cc',
-        'host/video_scheduler_unittest.cc',
-        'host/win/worker_process_launcher.cc',
-        'host/win/worker_process_launcher.h',
-        'host/win/worker_process_launcher_unittest.cc',
-        'jingle_glue/chromium_socket_factory_unittest.cc',
-        'jingle_glue/fake_signal_strategy.cc',
-        'jingle_glue/fake_signal_strategy.h',
-        'jingle_glue/iq_sender_unittest.cc',
-        'jingle_glue/mock_objects.cc',
-        'jingle_glue/mock_objects.h',
-        'protocol/authenticator_test_base.cc',
-        'protocol/authenticator_test_base.h',
-        'protocol/buffered_socket_writer_unittest.cc',
-        'protocol/channel_multiplexer_unittest.cc',
-        'protocol/clipboard_echo_filter_unittest.cc',
-        'protocol/clipboard_filter_unittest.cc',
-        'protocol/connection_tester.cc',
-        'protocol/connection_tester.h',
-        'protocol/connection_to_client_unittest.cc',
-        'protocol/content_description_unittest.cc',
-        'protocol/fake_authenticator.cc',
-        'protocol/fake_authenticator.h',
-        'protocol/fake_session.cc',
-        'protocol/fake_session.h',
-        'protocol/input_event_tracker_unittest.cc',
-        'protocol/input_filter_unittest.cc',
-        'protocol/jingle_messages_unittest.cc',
-        'protocol/jingle_session_unittest.cc',
-        'protocol/message_decoder_unittest.cc',
-        'protocol/message_reader_unittest.cc',
-        'protocol/mouse_input_filter_unittest.cc',
-        'protocol/negotiating_authenticator_unittest.cc',
-        'protocol/protocol_mock_objects.cc',
-        'protocol/protocol_mock_objects.h',
-        'protocol/ppapi_module_stub.cc',
-        'protocol/ssl_hmac_channel_authenticator_unittest.cc',
-        'protocol/v2_authenticator_unittest.cc',
-      ],
-      'conditions': [
-        [ 'OS=="win"', {
-          'include_dirs': [
-            '../breakpad/src',
-          ],
-          'link_settings': {
-            'libraries': [
-              '-lrpcrt4.lib',
-            ],
-          },
-        }, {  # else OS != "win"
-          # Javascript unittests are disabled on Windows because they add a
-	  # dependency on 'common_constants' which (only on Windows) requires
-	  # additional dependencies:
-          #   '../content/content.gyp:content_common',
-          #   'installer_util',
-	  # These targets are defined in .gypi files that would need to be
-	  # included here:
-          #   '../chrome/chrome_common.gypi',
-          #   '../chrome/chrome_installer.gypi',
-          #   '../chrome/chrome_installer_util.gypi',
-	  # But we can't do that because ninja will complain about multiple
-	  # target definitions.
-	  # TODO(garykac): Move installer_util into a proper .gyp file so that
-	  # it can be included in multiple .gyp files.
-          'includes': [
-            '../chrome/js_unittest_rules.gypi',
-          ],
-          'dependencies': [
-            '../chrome/common_constants.gyp:common_constants',
-            '../v8/tools/gyp/v8.gyp:v8',
-          ],
-          'sources': [
-            '../chrome/test/base/v8_unit_test.cc',
-            '../chrome/test/base/v8_unit_test.h',
-            'webapp/format_iq.gtestjs',
-            'webapp/format_iq.js',
-          ],
-        }],
-        ['chromeos != 0', {
-          'dependencies!': [
-            'remoting_host',
-            'remoting_host_setup_base',
-          ],
-          'sources/': [
-            ['exclude', 'host/*'],
-          ]
-        }],
-        ['toolkit_uses_gtk == 1', {
-          'dependencies': [
-            # Needed for the following #include chain:
-            #   base/run_all_unittests.cc
-            #   ../base/test_suite.h
-            #   gtk/gtk.h
-            '../build/linux/system.gyp:gtk',
-            '../build/linux/system.gyp:ssl',
-          ],
-          'conditions': [
-            [ 'linux_use_tcmalloc==1', {
-                'dependencies': [
-                  '../base/allocator/allocator.gyp:allocator',
-                ],
-              },
-            ],
-          ],
-        }],  # end of 'toolkit_uses_gtk == 1'
-      ],  # end of 'conditions'
-    },  # end of target 'remoting_unittests'
   ],  # end of targets
 }
