$OpenBSD: patch-wscript,v 1.25 2013/03/08 14:25:07 landry Exp $

Fix paths to config files.

--- wscript.orig	Wed Feb  6 00:28:05 2013
+++ wscript	Sun Mar  3 11:25:50 2013
@@ -82,7 +82,7 @@ def rc_file(self, node):
     self.compiled_tasks.append (rctask)
 rc_file = extension ('.rc')(rc_file)
 Task.simple_task_type ('winrc', '${WINRC} -o${TGT} ${SRC}', color='BLUE',
-    before='cc cxx', shell=False)
+    before='cc cxx')
 
 def configure (conf):
     def option_checkfatal (option, desc):
@@ -371,8 +371,6 @@ def configure (conf):
                 '-Winit-self -Wundef -Wdeclaration-after-statement '
                 '-Wmissing-format-attribute -Wnested-externs'.split ())
     conf.env.append_value ('CCFLAGS', '-Wno-unused-variable -Wno-comment'.split ())
-    if compiler == 'gcc':
-        conf.env.append_value ('CCFLAGS', '-Wno-unused-but-set-variable'.split ())
 
     if conf.env['UNIQUE_VERSION'] == '1.0.4':
         Utils.pprint ('RED', 'unique 1.0.4 found, this version is erroneous.')
@@ -470,7 +468,7 @@ def build (bld):
             'AUTHORS COPYING ChangeLog EXPAT README data/faq.html data/faq.css')
 
     # Install default configuration
-    bld.install_files ('${SYSCONFDIR}/xdg/' + APPNAME + '/', 'data/search')
+    bld.install_files ('${MDATADIR}/examples/' + APPNAME + '/', 'data/search')
 
     if bld.env['INTLTOOL']:
         obj = bld.new_task_gen ('intltool_po')
@@ -534,7 +532,7 @@ def build (bld):
             for extension in extensions:
                 source = 'data/extensions/' + extension +  '/config'
                 if os.path.exists (source):
-                    bld.install_files ('${SYSCONFDIR}/xdg/' + APPNAME + \
+                    bld.install_files ('${MDATADIR}/examples/' + APPNAME + \
                                        '/extensions/' + extension, source)
 
     if Options.commands['check'] or bld.env['tests']:
