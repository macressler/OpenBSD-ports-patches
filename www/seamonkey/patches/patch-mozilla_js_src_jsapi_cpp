$OpenBSD: patch-mozilla_js_src_jsapi_cpp,v 1.1 2012/04/30 15:38:09 landry Exp $
--- mozilla/js/src/jsapi.cpp.orig	Sat Apr 21 00:40:08 2012
+++ mozilla/js/src/jsapi.cpp	Wed Apr 25 19:01:18 2012
@@ -699,7 +699,9 @@ JSRuntime::JSRuntime()
     ownerThread_(NULL),
 #endif
     tempLifoAlloc(TEMP_LIFO_ALLOC_PRIMARY_CHUNK_SIZE),
+#if ENABLE_ASSEMBLER
     execAlloc_(NULL),
+#endif
     bumpAlloc_(NULL),
     repCache_(NULL),
     interpreterFrames(NULL),
@@ -841,7 +843,9 @@ JSRuntime::~JSRuntime()
 {
     JS_ASSERT(onOwnerThread());
 
+#if ENABLE_ASSEMBLER
     delete_<JSC::ExecutableAllocator>(execAlloc_);
+#endif
     delete_<WTF::BumpPointerAllocator>(bumpAlloc_);
     JS_ASSERT(!repCache_);
 
