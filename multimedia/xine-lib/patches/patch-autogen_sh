$OpenBSD: patch-autogen_sh,v 1.1 2012/04/08 07:37:25 ajacoutot Exp $
--- autogen.sh.orig	Tue Oct  4 17:42:52 2011
+++ autogen.sh	Sat Apr  7 14:22:42 2012
@@ -70,18 +70,7 @@ detect_autoconf() {
   RETVAL=$?
   NUM_RESULT=$#
   RESULT_FILE=$3
-  if [ $RETVAL -eq 0 -a $NUM_RESULT -eq 3 -a -f "$RESULT_FILE" ]; then
-    AC="`autoconf --version | parse_version_no`"
-    if [ `expr $AC` -ge "`echo $AUTOCONF_MIN | parse_version_no`" ]; then
-      autoconf_ok=yes
-    fi
-  else
-    echo
-    echo "**Error**: You must have \`autoconf' >= $AUTOCONF_MIN installed to" 
-    echo "           compile $PROG. Download the appropriate package"
-    echo "           for your distribution or source from ftp.gnu.org."
-    exit 1
-  fi
+  autoconf_ok=yes
 }
 
 run_autoheader () {
@@ -107,7 +96,9 @@ run_autoconf () {
 
   echo $_echo_n " + Running autoconf: $_echo_c";
     autoconf;
-    sed -i -e '/gnu_ld/,/;;/ s/--rpath \${wl}/--rpath,/' configure
+    sed -e '/gnu_ld/,/;;/ s/--rpath \${wl}/--rpath,/' configure > configure.new
+    mv configure.new configure
+    chmod +x configure
   echo "done."
 }
 
@@ -120,12 +111,7 @@ try_libtool_executable() {
   RETVAL=$?
   NUM_RESULT=$#
   RESULT_FILE=$3
-  if [ $RETVAL -eq 0 -a $NUM_RESULT -eq 3 -a -f "$RESULT_FILE" ]; then
-    LT="`$libtool --version | awk '{ print $4 }' | parse_version_no`"
-    if [ `expr $LT` -ge "`echo $LIBTOOL_MIN | parse_version_no`" ]; then
-      libtool_ok=yes
-    fi
-  fi
+  libtool_ok=yes
 }
 
 detect_libtool() {
@@ -168,18 +154,7 @@ detect_automake() {
   RETVAL=$?
   NUM_RESULT=$#
   RESULT_FILE=$3
-  if [ $RETVAL -eq 0 -a $NUM_RESULT -eq 3 -a -f "$RESULT_FILE" ]; then
-    AM="`automake --version | parse_version_no`"
-    if [ `expr $AM` -ge "`echo $AUTOMAKE_MIN | parse_version_no`" ]; then
-      automake_ok=yes
-    fi
-  else
-    echo
-    echo "**Error**: You must have \`automake' >= $AUTOMAKE_MIN installed to" 
-    echo "           compile $PROG. Download the appropriate package"
-    echo "           for your distribution or source from ftp.gnu.org."
-    exit 1
-  fi
+  automake_ok=yes
 }
 
 run_automake () {
@@ -206,18 +181,7 @@ detect_aclocal() {
   RETVAL=$?
   NUM_RESULT=$#
   RESULT_FILE=$3
-  if [ $RETVAL -eq 0 -a $NUM_RESULT -eq 3 -a -f "$RESULT_FILE" ]; then
-    AC="`aclocal --version | parse_version_no`"
-    if [ `expr $AC` -ge "`echo $AUTOMAKE_MIN | parse_version_no`" ]; then
-      aclocal_ok=yes
-    fi
-  else
-    echo
-    echo "**Error**: You must have \`aclocal' >= $AUTOMAKE_MIN installed to" 
-    echo "           compile $PROG. Download the appropriate package"
-    echo "           for your distribution or source from ftp.gnu.org."
-    exit 1
-  fi
+  aclocal_ok=yes
 }
 
 run_aclocal () {
