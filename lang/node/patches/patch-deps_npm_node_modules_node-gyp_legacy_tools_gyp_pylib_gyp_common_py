$OpenBSD: patch-deps_npm_node_modules_node-gyp_legacy_tools_gyp_pylib_gyp_common_py,v 1.2 2012/08/23 17:29:44 abieber Exp $
--- deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py.orig	Tue Aug 21 21:33:20 2012
+++ deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py	Tue Aug 21 21:33:49 2012
@@ -331,7 +331,6 @@ def WriteOnDiff(filename):
           # and then set it back to the old value.
           umask = os.umask(077)
           os.umask(umask)
-          os.chmod(self.tmp_path, 0666 & ~umask)
           if sys.platform == 'win32' and os.path.exists(filename):
             # NOTE: on windows (but not cygwin) rename will not replace an
             # existing file, so it must be preceded with a remove. Sadly there
@@ -355,6 +354,7 @@ def GetFlavor(params):
     'sunos5': 'solaris',
     'freebsd7': 'freebsd',
     'freebsd8': 'freebsd',
+    'openbsd5': 'openbsd',
   }
   flavor = flavors.get(sys.platform, 'linux')
   return params.get('flavor', flavor)
