$OpenBSD: patch-gcc_config_rs6000_sysv4_h,v 1.3 2012/07/01 18:56:45 pascal Exp $
--- gcc/config/rs6000/sysv4.h.orig	Mon Apr 30 19:39:01 2012
+++ gcc/config/rs6000/sysv4.h	Wed Jun 20 14:39:12 2012
@@ -402,6 +402,7 @@ do {									\
   asm_fprintf (FILE, "%L%s", PREFIX)
 
 /* Globalizing directive for a label.  */
+#undef GLOBAL_ASM_OP
 #define GLOBAL_ASM_OP "\t.globl "
 
 /* This says how to output assembler code to declare an
@@ -877,7 +878,7 @@ ncrtn.o%s"
 #endif
 
 #ifndef CPP_OS_OPENBSD_SPEC
-#define CPP_OS_OPENBSD_SPEC "%{posix:-D_POSIX_SOURCE} %{pthread:-D_POSIX_THREADS}"
+#define CPP_OS_OPENBSD_SPEC "%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}"
 #endif
 
 /* Define any extra SPECS that the compiler needs to generate.  */
