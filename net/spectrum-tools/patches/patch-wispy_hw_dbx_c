$OpenBSD: patch-wispy_hw_dbx_c,v 1.2 2011/11/13 13:54:04 ajacoutot Exp $

From upstream, remove usb_debug (support for libusb 1.0+compat).

--- wispy_hw_dbx.c.orig	Thu Jun 18 01:43:33 2009
+++ wispy_hw_dbx.c	Sun Nov 13 10:50:23 2011
@@ -110,7 +110,7 @@
     uint16_t __x = (x); \
     ((uint16_t)( \
         (uint16_t)(((uint16_t)(__x) & (uint16_t)0x000000ff) << 24) | \
-        (uint16_t)(((uint16_t)(__x) & (uint16_t)0x0000ff00) << 8) | \
+        (uint16_t)(((uint16_t)(__x) & (uint16_t)0x0000ff00) << 8) )); \
 })
 
 /* Aux tracking struct for wispy1 characteristics */
@@ -624,15 +624,11 @@ int wispydbx_usb_getpollfd(wispy_phy *phydev) {
 	return auxptr->sockpair[0];
 }
 
-extern int usb_debug;
-
 int wispydbx_usb_open(wispy_phy *phydev) {
 	int pid_status;
 	struct usb_dev_handle *wispy;
 	wispydbx_usb_aux *auxptr = (wispydbx_usb_aux *) phydev->auxptr;
 	wispydbx_startsweep startcmd;
-
-	usb_debug = 1024;
 
 	/* Make the client/server socketpair */
 	if (socketpair(PF_UNIX, SOCK_DGRAM, 0, auxptr->sockpair) < 0) {
