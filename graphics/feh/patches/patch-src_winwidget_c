$OpenBSD: patch-src_winwidget_c,v 1.15 2013/12/12 09:20:52 dcoppa Exp $

Fix '--borderless' not working on 64bit systems
(upstream git commit b5a719d0dc475066eafc5810c2bdc49bca18713a)

--- src/winwidget.c.orig	Tue Jun 11 08:28:26 2013
+++ src/winwidget.c	Thu Dec 12 09:59:49 2013
@@ -228,6 +228,7 @@ void winwidget_create_window(winwidget ret, int w, int
 	    KeyPressMask | KeyReleaseMask | ButtonMotionMask | ExposureMask
 	    | FocusChangeMask | PropertyChangeMask | VisibilityChangeMask;
 
+	memset(&mwmhints, 0, sizeof(mwmhints));
 	if (opt.borderless || ret->full_screen) {
 		prop = XInternAtom(disp, "_MOTIF_WM_HINTS", True);
 		if (prop == None) {
@@ -240,8 +241,7 @@ void winwidget_create_window(winwidget ret, int w, int
 			mwmhints.flags = MWM_HINTS_DECORATIONS;
 			mwmhints.decorations = 0;
 		}
-	} else
-		mwmhints.flags = 0;
+	}
 
 	ret->win =
 	    XCreateWindow(disp, DefaultRootWindow(disp), x, y, w, h, 0,
