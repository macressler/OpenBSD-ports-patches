$OpenBSD: patch-src_cd-sensor_h,v 1.1 2013/03/08 06:58:38 ajacoutot Exp $

From 417b4c95c6161090927e61b534d4cc4b924ea5e5 Mon Sep 17 00:00:00 2001
From: Richard Hughes <richard@hughsie.com>
Date: Mon, 4 Mar 2013 11:09:13 +0000
Subject: [PATCH] Fix compile with --disable-gusb

--- src/cd-sensor.h.orig	Mon Feb  4 16:58:38 2013
+++ src/cd-sensor.h	Tue Mar  5 08:29:17 2013
@@ -26,13 +26,16 @@
 
 #include <glib-object.h>
 #include <gio/gio.h>
-#include <gusb.h>
 #include <colord-private.h>
 
 #ifdef HAVE_GUDEV
 #include <gudev/gudev.h>
 #endif
 
+#ifdef HAVE_GUSB
+#include <gusb.h>
+#endif
+
 #include "cd-common.h"
 
 G_BEGIN_DECLS
@@ -86,12 +89,14 @@ gboolean	 cd_sensor_set_from_device	(CdSensor		*sensor
 						 GUdevDevice		*device,
 						 GError			**error);
 GUdevDevice	*cd_sensor_get_device		(CdSensor		*sensor);
+void		 cd_sensor_set_index		(CdSensor		*sensor,
+						 guint			 idx);
+#endif
+#ifdef HAVE_GUSB
 GUsbDevice	*cd_sensor_open_usb_device	(CdSensor		*sensor,
 						 gint			 config,
 						 gint			 interface,
 						 GError			**error);
-void		 cd_sensor_set_index		(CdSensor		*sensor,
-						 guint			 idx);
 #endif
 void		 cd_sensor_button_pressed	(CdSensor		*sensor);
 gboolean	 cd_sensor_dump			(CdSensor		*sensor,
