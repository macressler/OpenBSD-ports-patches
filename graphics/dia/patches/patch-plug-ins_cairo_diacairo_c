$OpenBSD: patch-plug-ins_cairo_diacairo_c,v 1.1 2013/12/07 09:18:36 ajacoutot Exp $

XXX cairo PNG export mangles text

--- plug-ins/cairo/diacairo.c.orig	Sat Nov  7 18:13:53 2009
+++ plug-ins/cairo/diacairo.c	Sat Dec  7 10:10:23 2013
@@ -449,10 +449,12 @@ _plugin_unload (PluginInfo *info)
 #ifdef CAIRO_HAS_SVG_SURFACE
   filter_unregister_export(&svg_export_filter);
 #endif
+#if 0
 #if defined CAIRO_HAS_PNG_SURFACE || defined CAIRO_HAS_PNG_FUNCTIONS
   filter_unregister_export(&png_export_filter);
   filter_unregister_export(&pnga_export_filter);
 #endif
+#endif
 #if DIA_CAIRO_CAN_EMF
   filter_unregister_export(&emf_export_filter);
   filter_unregister_export(&wmf_export_filter);
@@ -485,9 +487,11 @@ dia_plugin_init(PluginInfo *info)
 #ifdef CAIRO_HAS_SVG_SURFACE
   filter_register_export(&svg_export_filter);
 #endif
+#if 0
 #if defined CAIRO_HAS_PNG_SURFACE || defined CAIRO_HAS_PNG_FUNCTIONS
   filter_register_export(&png_export_filter);
   filter_register_export(&pnga_export_filter);
+#endif
 #endif
 #if DIA_CAIRO_CAN_EMF
   filter_register_export(&emf_export_filter);
