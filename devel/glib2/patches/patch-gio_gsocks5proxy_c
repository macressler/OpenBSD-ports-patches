$OpenBSD: patch-gio_gsocks5proxy_c,v 1.1 2013/05/09 14:06:38 ajacoutot Exp $

From 0ba982e0589c2ae246dca760010d54bbca371399 Mon Sep 17 00:00:00 2001
From: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date: Thu, 02 May 2013 15:50:01 +0000
Subject: GSocks5Proxy: don't crash if parsing negotiation reply fails

--- gio/gsocks5proxy.c.orig	Mon Apr 15 23:22:13 2013
+++ gio/gsocks5proxy.c	Thu May  9 15:52:14 2013
@@ -708,7 +708,7 @@ nego_reply_read_cb (GObject      *source,
   
   if (data->offset == data->length)
     {
-      GError *error;
+      GError *error = NULL;
       gboolean must_auth = FALSE;
       gboolean has_auth = data->username || data->password;
 
