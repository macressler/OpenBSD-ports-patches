$OpenBSD: patch-src_pty_c,v 1.6 2013/03/26 09:43:06 jasper Exp $
--- src/pty.c.orig	Sat Feb 23 22:57:13 2013
+++ src/pty.c	Tue Mar 26 10:28:39 2013
@@ -843,11 +843,7 @@ _vte_pty_getpt(GError **error)
 	/* Call the system's function for allocating a pty. */
 	fd = getpt();
 #else
-	/* Try to allocate a pty by accessing the pty master multiplex. */
-	fd = open("/dev/ptmx", O_RDWR | O_NOCTTY);
-	if ((fd == -1) && (errno == ENOENT)) {
-		fd = open("/dev/ptc", O_RDWR | O_NOCTTY); /* AIX */
-	}
+	fd = posix_openpt(O_RDWR | O_NOCTTY);
 #endif
         if (fd == -1) {
                 g_set_error (error, VTE_PTY_ERROR,
