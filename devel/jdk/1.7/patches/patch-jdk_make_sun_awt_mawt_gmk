$OpenBSD: patch-jdk_make_sun_awt_mawt_gmk,v 1.7 2013/04/10 02:49:05 kurt Exp $
--- jdk/make/sun/awt/mawt.gmk.orig	Tue Apr  9 15:56:34 2013
+++ jdk/make/sun/awt/mawt.gmk	Tue Apr  9 16:06:19 2013
@@ -193,16 +193,15 @@ endif
 #
 # Other extra flags needed for compiling.
 #
+ifneq ($(PLATFORM), bsd))
 CPPFLAGS += -I$(CUPS_HEADERS_PATH)
 
 ifndef HEADLESS
 CPPFLAGS += -I$(OPENWIN_HOME)/include 
 LDFLAGS  += -L$(OPENWIN_LIB)
-ifeq ($(OS_NAME), netbsd)
-LDFLAGS  += -Wl,-R$(OPENWIN_LIB)
-endif
 
 endif # !HEADLESS
+endif # !PLATFORM
 
 CPPFLAGS += -I$(SHARE_SRC)/native/$(PKGDIR)/debug \
             -I$(SHARE_SRC)/native/$(PKGDIR)/../font \
@@ -226,13 +225,16 @@ CPPFLAGS += -I$(SHARE_SRC)/native/$(PKGDIR)/debug \
         -I$(PLATFORM_SRC)/native/$(PKGDIR) \
         $(EVENT_MODEL)
 
-ifeq ($(PLATFORM), macosx)
+ifneq (,$(findstring $(PLATFORM), bsd macosx))
 CPPFLAGS += -I$(CUPS_HEADERS_PATH)
 
 ifndef HEADLESS
 CPPFLAGS += -I$(MOTIF_DIR)/include \
             -I$(OPENWIN_HOME)/include 
 LDFLAGS  += -L$(MOTIF_LIB) -L$(OPENWIN_LIB)
+ifeq ($(OS_NAME), netbsd)
+LDFLAGS  += -Wl,-R$(OPENWIN_LIB)
+endif
 
 endif # !HEADLESS
 endif # PLATFORM
