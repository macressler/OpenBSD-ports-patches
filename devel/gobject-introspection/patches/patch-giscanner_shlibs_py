$OpenBSD: patch-giscanner_shlibs_py,v 1.6 2013/03/29 14:57:09 jasper Exp $

From 49b80bb567115b95c1051d2f01da7679e4e08154 Mon Sep 17 00:00:00 2001
From: Jasper Lievisse Adriaanse <jasper@humppa.nl>
Date: Thu, 28 Mar 2013 10:49:01 +0000
Subject: Unbreak giscanner on OpenBSD.

Commit 9a1e0c63c13f3567e75553d2d07dd914d5b81287 broke this as
os.name doesn't return 'OpenBSD', but 'posix'

https://bugzilla.gnome.org/show_bug.cgi?id=696765

--- giscanner/shlibs.py.orig	Tue Dec 18 17:27:16 2012
+++ giscanner/shlibs.py	Thu Mar 28 11:45:22 2013
@@ -68,7 +68,7 @@ def _resolve_non_libtool(options, binary, libraries):
     if not libraries:
         return []
 
-    if os.name == 'OpenBSD':
+    if platform.platform().startswith('OpenBSD'):
         # Hack for OpenBSD when using the ports' libtool which uses slightly
         # different directories to store the libraries in. So rewite binary.args[0]
         # by inserting '.libs/'.
