$OpenBSD: patch-giscanner_sourcescanner_py,v 1.7 2013/12/14 09:16:49 ajacoutot Exp $

From cbafcdb323307fd6bb5e48b44167fd995dc933a1 Mon Sep 17 00:00:00 2001
From: Ryan Lortie <desrt@desrt.ca>
Date: Sun, 08 Dec 2013 16:48:08 +0000
Subject: scanner: make sure we pass CFLAGS to cpp

--- giscanner/sourcescanner.py.orig	Wed Jul 10 18:13:23 2013
+++ giscanner/sourcescanner.py	Sat Dec 14 09:28:34 2013
@@ -284,6 +284,7 @@ class SourceScanner(object):
             # Note that the generated dumper program is
             # still built and linked by Visual C++.
             cpp_args = ['gcc']
+        cpp_args += os.environ.get('CFLAGS', '').split()
         cpp_args += ['-E', '-C', '-I.', '-']
         cpp_args += self._cpp_options
 
