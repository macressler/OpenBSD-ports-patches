$OpenBSD: patch-src_mkbuiltins,v 1.1.1.1 2013/03/14 16:57:30 sthen Exp $
nl -> awk.
Submitted upstream 10/01/2013.
--- src/mkbuiltins.orig	Sat Sep 29 21:11:04 2012
+++ src/mkbuiltins	Sat Sep 29 21:25:49 2012
@@ -97,8 +97,9 @@ cat <<\!
  */
 
 !
-sed 's/	-[a-z]*//' $temp2 | nl -b a -v 0 | LC_COLLATE=C sort -u -k 3,3 |
-tr abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ |
+sed 's/	-[a-z]*//' $temp2 | awk '{ printf "%6d\t%s\n", NR-1, $0 }' |
+	LC_COLLATE=C sort -u -k 3,3 |
+	tr abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ |
 	awk '{	printf "#define %s (builtincmd + %d)\n", $3, $1}'
 printf '\n#define NUMBUILTINS %d\n' $(wc -l < $temp2)
 echo '
