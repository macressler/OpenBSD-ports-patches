$OpenBSD: patch-configure,v 1.2 2013/03/23 13:44:44 ajacoutot Exp $
--- configure.orig	Fri Feb 22 19:46:43 2013
+++ configure	Sat Mar 23 14:40:09 2013
@@ -14354,11 +14354,12 @@ if ${assuan_cv_sys_so_peercred+:} false; then :
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
+#include <sys/types.h>
 #include <sys/socket.h>
 int
 main ()
 {
-struct ucred cr;
+struct sockpeercred cr;
           int cl = sizeof cr;
           getsockopt (1, SOL_SOCKET, SO_PEERCRED, &cr, &cl);
   ;
