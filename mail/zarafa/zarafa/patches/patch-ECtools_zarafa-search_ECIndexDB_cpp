$OpenBSD: patch-ECtools_zarafa-search_ECIndexDB_cpp,v 1.2 2013/01/27 13:06:20 robert Exp $

Fix buil with clucene-core >= 2.x

--- ECtools/zarafa-search/ECIndexDB.cpp.orig	Wed Dec  5 16:06:37 2012
+++ ECtools/zarafa-search/ECIndexDB.cpp	Sun Jan 20 17:18:38 2013
@@ -68,7 +68,7 @@
 #include <string>
 #include <algorithm>
 
-#include <CLucene/util/Reader.h>
+#include <CLucene/util/CLStreams.h>
 
 using namespace kyotocabinet;
 
@@ -304,7 +304,7 @@ HRESULT ECIndexDB::AddTerm(folderid_t folder, docid_t 
         unsigned int len;
         unsigned int keylen;
         
-        lucene::util::StringReader reader(wstrTerm.c_str());
+        CL_NS(util)::StringReader reader(wstrTerm.c_str());
         
         stream = m_lpAnalyzer->tokenStream(L"", &reader);
         
