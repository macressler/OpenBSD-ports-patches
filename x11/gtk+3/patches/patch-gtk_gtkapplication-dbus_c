$OpenBSD: patch-gtk_gtkapplication-dbus_c,v 1.3 2014/04/18 09:18:29 ajacoutot Exp $

From 391573ad2c63ca7f54d7b5aff94cc8fa3db0ad5a Mon Sep 17 00:00:00 2001
From: Bastien Nocera <hadess@hadess.net>
Date: Mon, 14 Apr 2014 16:40:20 +0200
Subject: gtkapplication: Fix incorrect value passed to g_variant_new()

--- gtk/gtkapplication-dbus.c.orig	Sat Apr 12 03:52:09 2014
+++ gtk/gtkapplication-dbus.c	Fri Apr 18 11:02:30 2014
@@ -339,7 +339,7 @@ gtk_application_impl_dbus_inhibit (GtkApplicationImpl 
                                 "Inhibit",
                                 g_variant_new ("(s@usu)",
                                                dbus->app_id,
-                                               window ? gtk_application_impl_dbus_get_window_system_id (dbus, window) : 0,
+                                               window ? gtk_application_impl_dbus_get_window_system_id (dbus, window) : g_variant_new_uint32 (0),
                                                reason,
                                                flags),
                                 G_DBUS_CALL_FLAGS_NONE,
