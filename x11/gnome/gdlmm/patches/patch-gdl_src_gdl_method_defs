$OpenBSD: patch-gdl_src_gdl_method_defs,v 1.2 2012/12/07 08:13:52 ajacoutot Exp $

From 64fc453594aa87a95cf449d7fbd76b067e994a4f Mon Sep 17 00:00:00 2001
From: Alban Browaeys <prahal@yahoo.com>
Date: Mon, 12 Nov 2012 05:38:39 +0000
Subject: Upgrade to gdl 3.6.

--- gdl/src/gdl_method.defs.orig	Wed Nov 23 18:40:16 2011
+++ gdl/src/gdl_method.defs	Fri Dec  7 08:48:30 2012
@@ -1,5 +1,12 @@
 ;; -*- scheme -*-
 ; object definitions ...
+(define-object DockBar
+  (in-module "Gdl")
+  (parent "GtkBox")
+  (c-name "GdlDockBar")
+  (gtype-id "GDL_TYPE_DOCK_BAR")
+)
+
 (define-object DockItemGrip
   (in-module "Gdl")
   (parent "GtkContainer")
@@ -155,24 +162,12 @@
   (return-type "GType")
 )
 
-(define-method bar_new
-  (of-object "GdlDock")
+(define-function gdl_dock_bar_new
   (c-name "gdl_dock_bar_new")
+  (is-constructor-of "GdlDockBar")
   (return-type "GtkWidget*")
-)
-
-(define-method get_orientation
-  (of-object "GdlDockBar")
-  (c-name "gdl_dock_bar_get_orientation")
-  (return-type "GtkOrientation")
-)
-
-(define-method set_orientation
-  (of-object "GdlDockBar")
-  (c-name "gdl_dock_bar_set_orientation")
-  (return-type "none")
   (parameters
-    '("GtkOrientation" "orientation")
+    '("GObject*" "master")
   )
 )
 
@@ -191,8 +186,14 @@
   (return-type "GdlDockBarStyle")
 )
 
+(define-method get_orientation
+  (of-object "GdlDockBar")
+  (c-name "gdl_dock_bar_get_orientation")
+  (return-type "GtkOrientation")
+)
 
 
+
 ;; From gdl-dock.h
 
 (define-function gdl_dock_new
@@ -221,7 +222,7 @@
   (return-type "none")
   (parameters
     '("GdlDockItem*" "item")
-    '("GdlDockPlacement" "place")
+    '("GdlDockPlacement" "placement")
   )
 )
 
@@ -247,15 +248,6 @@
   )
 )
 
-(define-method get_placeholder_by_name
-  (of-object "GdlDock")
-  (c-name "gdl_dock_get_placeholder_by_name")
-  (return-type "GdlDockPlaceholder*")
-  (parameters
-    '("const-gchar*" "name")
-  )
-)
-
 (define-method get_named_items
   (of-object "GdlDock")
   (c-name "gdl_dock_get_named_items")
@@ -268,23 +260,56 @@
   (return-type "GdlDock*")
 )
 
-(define-method xor_rect
+(define-method get_root
   (of-object "GdlDock")
-  (c-name "gdl_dock_xor_rect")
+  (c-name "gdl_dock_get_root")
+  (return-type "GdlDockObject*")
+)
+
+(define-method show_preview
+  (of-object "GdlDock")
+  (c-name "gdl_dock_show_preview")
   (return-type "none")
   (parameters
     '("GdkRectangle*" "rect")
   )
 )
 
-(define-method xor_rect_hide
+(define-method hide_preview
   (of-object "GdlDock")
-  (c-name "gdl_dock_xor_rect_hide")
+  (c-name "gdl_dock_hide_preview")
   (return-type "none")
 )
 
+(define-method set_skip_taskbar
+  (of-object "GdlDock")
+  (c-name "gdl_dock_set_skip_taskbar")
+  (return-type "none")
+  (parameters
+    '("gboolean" "skip")
+  )
+)
 
+(define-method get_placeholder_by_name
+  (of-object "GdlDock")
+  (c-name "gdl_dock_get_placeholder_by_name")
+  (return-type "GdlDockPlaceholder*")
+  (parameters
+    '("const-gchar*" "name")
+  )
+)
 
+(define-method xor_rect
+  (of-object "GdlDock")
+  (c-name "gdl_dock_xor_rect")
+  (return-type "none")
+  (parameters
+    '("GdkRectangle*" "rect")
+  )
+)
+
+
+
 ;; From gdl-dock-item-grip.h
 
 (define-function gdl_dock_item_grip_get_type
@@ -319,8 +344,26 @@
   (return-type "none")
 )
 
+(define-method set_cursor
+  (of-object "GdlDockItemGrip")
+  (c-name "gdl_dock_item_grip_set_cursor")
+  (return-type "none")
+  (parameters
+    '("gboolean" "in_drag")
+  )
+)
 
+(define-method has_event
+  (of-object "GdlDockItemGrip")
+  (c-name "gdl_dock_item_grip_has_event")
+  (return-type "gboolean")
+  (parameters
+    '("GdkEvent*" "event")
+  )
+)
 
+
+
 ;; From gdl-dock-item.h
 
 (define-function gdl_dock_item_new
@@ -345,6 +388,17 @@
   )
 )
 
+(define-function gdl_dock_item_new_with_pixbuf_icon
+  (c-name "gdl_dock_item_new_with_pixbuf_icon")
+  (return-type "GtkWidget*")
+  (parameters
+    '("const-gchar*" "name")
+    '("const-gchar*" "long_name")
+    '("const-GdkPixbuf*" "pixbuf_icon")
+    '("GdlDockItemBehavior" "behavior")
+  )
+)
+
 (define-function gdl_dock_item_get_type
   (c-name "gdl_dock_item_get_type")
   (return-type "GType")
@@ -370,6 +424,37 @@
   )
 )
 
+(define-method get_orientation
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_get_orientation")
+  (return-type "GtkOrientation")
+)
+
+(define-method set_behavior_flags
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_set_behavior_flags")
+  (return-type "none")
+  (parameters
+    '("GdlDockItemBehavior" "behavior")
+    '("gboolean" "clear")
+  )
+)
+
+(define-method unset_behavior_flags
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_unset_behavior_flags")
+  (return-type "none")
+  (parameters
+    '("GdlDockItemBehavior" "behavior")
+  )
+)
+
+(define-method get_behavior_flags
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_get_behavior_flags")
+  (return-type "GdlDockItemBehavior")
+)
+
 (define-method get_tablabel
   (of-object "GdlDockItem")
   (c-name "gdl_dock_item_get_tablabel")
@@ -409,6 +494,12 @@
   (return-type "none")
 )
 
+(define-method notify_deselected
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_notify_deselected")
+  (return-type "none")
+)
+
 (define-method bind
   (of-object "GdlDockItem")
   (c-name "gdl_dock_item_bind")
@@ -472,8 +563,65 @@
   )
 )
 
+(define-method get_drag_area
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_get_drag_area")
+  (return-type "none")
+  (parameters
+    '("GdkRectangle*" "rect")
+  )
+)
 
+(define-method or_child_has_focus
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_or_child_has_focus")
+  (return-type "gboolean")
+)
 
+(define-method is_placeholder
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_is_placeholder")
+  (return-type "gboolean")
+)
+
+(define-method is_closed
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_is_closed")
+  (return-type "gboolean")
+)
+
+(define-method is_iconified
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_is_iconified")
+  (return-type "gboolean")
+)
+
+(define-method set_child
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_set_child")
+  (return-type "none")
+  (parameters
+    '("GtkWidget*" "child")
+  )
+)
+
+(define-method get_child
+  (of-object "GdlDockItem")
+  (c-name "gdl_dock_item_get_child")
+  (return-type "GtkWidget*")
+)
+
+(define-method set_has_grip
+  (of-object "GdlDockItemClass")
+  (c-name "gdl_dock_item_class_set_has_grip")
+  (return-type "none")
+  (parameters
+    '("gboolean" "has_grip")
+  )
+)
+
+
+
 ;; From gdl-dock-layout.h
 
 (define-function gdl_dock_layout_get_type
@@ -481,21 +629,30 @@
   (return-type "GType")
 )
 
-(define-method layout_new
-  (of-object "GdlDock")
+(define-function gdl_dock_layout_new
   (c-name "gdl_dock_layout_new")
+  (is-constructor-of "GdlDockLayout")
   (return-type "GdlDockLayout*")
+  (parameters
+    '("GObject*" "master")
+  )
 )
 
-(define-method attach
+(define-method set_master
   (of-object "GdlDockLayout")
-  (c-name "gdl_dock_layout_attach")
+  (c-name "gdl_dock_layout_set_master")
   (return-type "none")
   (parameters
-    '("GdlDockMaster*" "master")
+    '("GObject*" "master")
   )
 )
 
+(define-method get_master
+  (of-object "GdlDockLayout")
+  (c-name "gdl_dock_layout_get_master")
+  (return-type "GObject*")
+)
+
 (define-method load_layout
   (of-object "GdlDockLayout")
   (c-name "gdl_dock_layout_load_layout")
@@ -556,10 +713,13 @@
   (return-type "gboolean")
 )
 
-(define-method get_layouts_ui
+(define-method attach
   (of-object "GdlDockLayout")
-  (c-name "gdl_dock_layout_get_layouts_ui")
-  (return-type "GtkWidget*")
+  (c-name "gdl_dock_layout_attach")
+  (return-type "none")
+  (parameters
+    '("GdlDockMaster*" "master")
+  )
 )
 
 
@@ -634,8 +794,14 @@
   )
 )
 
+(define-method get_dock_name
+  (of-object "GdlDockMaster")
+  (c-name "gdl_dock_master_get_dock_name")
+  (return-type "gchar*")
+)
 
 
+
 ;; From gdl-dock-object.h
 
 (define-function gdl_dock_object_get_type
@@ -676,6 +842,12 @@
   (return-type "none")
 )
 
+(define-method is_frozen
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_is_frozen")
+  (return-type "gboolean")
+)
+
 (define-method reduce
   (of-object "GdlDockObject")
   (c-name "gdl_dock_object_reduce")
@@ -725,6 +897,24 @@
   (return-type "gboolean")
 )
 
+(define-method get_master
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_master")
+  (return-type "GObject*")
+)
+
+(define-method get_controller
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_controller")
+  (return-type "GdlDockObject*")
+)
+
+(define-method layout_changed_notify
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_layout_changed_notify")
+  (return-type "none")
+)
+
 (define-method reorder
   (of-object "GdlDockObject")
   (c-name "gdl_dock_object_reorder")
@@ -752,6 +942,84 @@
   (parameters
     '("GdlDockObject*" "child")
     '("GdlDockPlacement*" "placement")
+  )
+)
+
+(define-method is_closed
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_is_closed")
+  (return-type "gboolean")
+)
+
+(define-method is_automatic
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_is_automatic")
+  (return-type "gboolean")
+)
+
+(define-method set_manual
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_set_manual")
+  (return-type "none")
+)
+
+(define-method get_name
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_name")
+  (return-type "const-gchar*")
+)
+
+(define-method set_name
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_set_name")
+  (return-type "none")
+  (parameters
+    '("const-gchar*" "name")
+  )
+)
+
+(define-method get_long_name
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_long_name")
+  (return-type "const-gchar*")
+)
+
+(define-method set_long_name
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_set_long_name")
+  (return-type "none")
+  (parameters
+    '("const-gchar*" "name")
+  )
+)
+
+(define-method get_stock_id
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_stock_id")
+  (return-type "const-gchar*")
+)
+
+(define-method set_stock_id
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_set_stock_id")
+  (return-type "none")
+  (parameters
+    '("const-gchar*" "stock_id")
+  )
+)
+
+(define-method get_pixbuf
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_get_pixbuf")
+  (return-type "GdkPixbuf*")
+)
+
+(define-method set_pixbuf
+  (of-object "GdlDockObject")
+  (c-name "gdl_dock_object_set_pixbuf")
+  (return-type "none")
+  (parameters
+    '("GdkPixbuf*" "icon")
   )
 )
 
