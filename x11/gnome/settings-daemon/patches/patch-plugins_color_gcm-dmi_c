$OpenBSD: patch-plugins_color_gcm-dmi_c,v 1.1 2011/11/11 09:32:07 ajacoutot Exp $

No sysfs on OpenBSD.

--- plugins/color/gcm-dmi.c.orig	Fri Nov 11 10:25:42 2011
+++ plugins/color/gcm-dmi.c	Fri Nov 11 10:26:24 2011
@@ -122,6 +122,7 @@ gcm_dmi_class_init (GcmDmiClass *klass)
 static void
 gcm_dmi_init (GcmDmi *dmi)
 {
+#ifdef __linux__
         const gchar *sysfs_name[] = {
                 "/sys/class/dmi/id/product_name",
                 "/sys/class/dmi/id/board_name",
@@ -143,6 +144,7 @@ gcm_dmi_init (GcmDmi *dmi)
         dmi->priv->name = gcm_dmi_get_from_filenames (sysfs_name);
         dmi->priv->version = gcm_dmi_get_from_filenames (sysfs_version);
         dmi->priv->vendor = gcm_dmi_get_from_filenames (sysfs_vendor);
+#endif
 }
 
 static void
