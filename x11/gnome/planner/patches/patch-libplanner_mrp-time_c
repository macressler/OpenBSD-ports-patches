$OpenBSD: patch-libplanner_mrp-time_c,v 1.3 2013/03/29 13:19:36 jasper Exp $

Fix calendar calculation: UTC cannot have DST.

--- libplanner/mrp-time.c.orig	Fri Mar 29 11:02:43 2013
+++ libplanner/mrp-time.c	Fri Mar 29 12:56:01 2013
@@ -173,6 +173,7 @@ mrp_time_from_tm (struct tm *tm)
 	/* This is a hack. Set the timezone to UTC temporarily. */
 	old_tz = g_strdup (g_getenv ("TZ"));
 	g_setenv ("TZ", "UTC", TRUE);
+	tm->tm_isdst = 0;
 
 	t = mktime (tm);
 
