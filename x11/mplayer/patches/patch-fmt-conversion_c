$OpenBSD: patch-fmt-conversion_c,v 1.2 2013/03/13 02:28:11 brad Exp $
--- fmt-conversion.c.orig	Thu Feb 14 14:46:09 2013
+++ fmt-conversion.c	Thu Feb 14 14:57:48 2013
@@ -57,17 +57,17 @@ static const struct {
     { IMGFMT_RGB8,       AV_PIX_FMT_BGR8 },
     { IMGFMT_RGB4,       AV_PIX_FMT_BGR4 },
     { IMGFMT_BGR8,       AV_PIX_FMT_PAL8 },
-#if LIBAVUTIL_VERSION_MICRO >= 100
     { IMGFMT_BGR32,      AV_PIX_FMT_0RGB32 },
+#if LIBAVUTIL_VERSION_INT >= AV_VERSION_INT(52, 14, 100)
     { IMGFMT_BGRA,       AV_PIX_FMT_BGR0 },
     { IMGFMT_RGBA,       AV_PIX_FMT_RGB0 },
     { IMGFMT_RGB64LE,    AV_PIX_FMT_RGBA64LE },
     { IMGFMT_RGB64BE,    AV_PIX_FMT_RGBA64BE },
-#endif /* LIBAVUTIL_VERSION_MICRO >= 100 */
+#endif /* LIBAVUTIL_VERSION_INT >= AV_VERSION_INT(52, 14, 100) */
     { IMGFMT_422A,       AV_PIX_FMT_YUVA422P },
     { IMGFMT_444A,       AV_PIX_FMT_YUVA444P },
+#if LIBAVUTIL_VERSION_INT >= AV_VERSION_INT(52, 14, 100)
     { IMGFMT_GBR24P,     AV_PIX_FMT_GBRP },
-#if LIBAVUTIL_VERSION_MICRO >= 100
     { IMGFMT_GBR12PLE,   AV_PIX_FMT_GBRP12LE },
     { IMGFMT_GBR12PBE,   AV_PIX_FMT_GBRP12BE },
     { IMGFMT_GBR14PLE,   AV_PIX_FMT_GBRP14LE },
@@ -84,8 +84,10 @@ static const struct {
     { IMGFMT_444P14_BE,  AV_PIX_FMT_YUV444P14BE },
     { IMGFMT_444P12_LE,  AV_PIX_FMT_YUV444P12LE },
     { IMGFMT_444P12_BE,  AV_PIX_FMT_YUV444P12BE },
+#endif /* LIBAVUTIL_VERSION_INT >= AV_VERSION_INT(52, 14, 100) */
+#if 0
     { IMGFMT_Y8A,        AV_PIX_FMT_GRAY8A },
-#endif /* LIBAVUTIL_VERSION_MICRO >= 100 */
+#endif
     { IMGFMT_Y16_LE,     AV_PIX_FMT_GRAY16LE },
     { IMGFMT_Y16_BE,     AV_PIX_FMT_GRAY16BE },
     { IMGFMT_YUY2,       AV_PIX_FMT_YUYV422 },
