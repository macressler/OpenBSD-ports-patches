$OpenBSD: patch-libmpdemux_mp_taglists_c,v 1.2 2013/01/21 16:23:05 brad Exp $
--- libmpdemux/mp_taglists.c.orig	Sat Jan 19 01:19:06 2013
+++ libmpdemux/mp_taglists.c	Sat Jan 19 04:04:54 2013
@@ -59,7 +59,9 @@ static const struct AVCodecTag mp_wav_tags[] = {
     { CODEC_ID_MUSEPACK7,         MKTAG('M', 'P', 'C', ' ')},
     { CODEC_ID_MUSEPACK8,         MKTAG('M', 'P', 'C', '8')},
     { CODEC_ID_NELLYMOSER,        MKTAG('n', 'm', 'o', 's')},
+#if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(54, 29, 0)
     { CODEC_ID_OPUS,              MKTAG('o', 'p', 'u', 's')},
+#endif
     { CODEC_ID_PCM_LXF,           MKTAG('P', 'L', 'X', 'F')},
     { CODEC_ID_PCM_S16LE_PLANAR,  MKTAG('1', '6', 'P', 'L')},
     { CODEC_ID_QCELP,             MKTAG('Q', 'c', 'l', 'p')},
@@ -71,7 +73,7 @@ static const struct AVCodecTag mp_wav_tags[] = {
     { CODEC_ID_SPEEX,             MKTAG('s', 'p', 'x', ' ')},
     { CODEC_ID_TTA,               MKTAG('T', 'T', 'A', '1')},
     { CODEC_ID_TWINVQ,            MKTAG('T', 'W', 'I', '2')},
-#if LIBAVUTIL_VERSION_MICRO >= 100
+#if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(54, 28, 100)
     { CODEC_ID_VIMA,              MKTAG('V', 'I', 'M', 'A')},
 #endif
     { CODEC_ID_VMDAUDIO,          MKTAG('V', 'M', 'D', 'A')},
@@ -102,7 +104,7 @@ static const struct AVCodecTag mp_codecid_override_tag
     { CODEC_ID_H264,              MKTAG('H', '2', '6', '4')},
     { CODEC_ID_MP3,               0x55},
     { CODEC_ID_MPEG4,             MKTAG('M', 'P', '4', 'V')},
-#if LIBAVUTIL_VERSION_MICRO >= 100
+#if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(54, 33, 0)
     { CODEC_ID_PAF_AUDIO,         MKTAG('P', 'A', 'F', 'A')},
     { CODEC_ID_PAF_VIDEO,         MKTAG('P', 'A', 'F', 'V')},
 #endif
@@ -134,7 +136,9 @@ static const struct AVCodecTag mp_bmp_tags[] = {
     { CODEC_ID_BMV_VIDEO,         MKTAG('B', 'M', 'V', 'V')},
     { CODEC_ID_C93,               MKTAG('C', '9', '3', 'V')},
     { CODEC_ID_CDGRAPHICS,        MKTAG('C', 'D', 'G', 'R')},
+#if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(54, 1, 0)
     { CODEC_ID_CDXL,              MKTAG('C', 'D', 'X', 'L')},
+#endif
     { CODEC_ID_CMV,               MKTAG('M', 'V', 'I', 'f')},
     { CODEC_ID_DFA,               MKTAG('C', 'D', 'F', 'A')},
     { CODEC_ID_DNXHD,             MKTAG('A', 'V', 'd', 'n')},
@@ -156,7 +160,7 @@ static const struct AVCodecTag mp_bmp_tags[] = {
     { CODEC_ID_RV20,              MKTAG('R', 'V', '2', '0')},
     { CODEC_ID_RV30,              MKTAG('R', 'V', '3', '0')},
     { CODEC_ID_RV40,              MKTAG('R', 'V', '4', '0')},
-#if LIBAVUTIL_VERSION_MICRO >= 100
+#if LIBAVCODEC_VERSION_INT >= AV_VERSION_INT(54, 35, 100)
     { CODEC_ID_SANM,              MKTAG('S', 'A', 'N', 'M')},
 #endif
     { CODEC_ID_SVQ3,              MKTAG('S', 'V', 'Q', '3')},
