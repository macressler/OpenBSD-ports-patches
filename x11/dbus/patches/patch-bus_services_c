$OpenBSD: patch-bus_services_c,v 1.1 2013/12/08 10:42:34 ajacoutot Exp $

From 03aeaccbffa97c9237b57ca067e3da7388862129 Mon Sep 17 00:00:00 2001
From: Radoslaw Pajak <r.pajak@samsung.com>
Date: Fri, 08 Nov 2013 12:51:32 +0000
Subject: fixed memory freeing if error during listing services

--- bus/services.c.orig	Mon Aug 13 20:08:25 2012
+++ bus/services.c	Sun Dec  8 10:55:33 2013
@@ -368,7 +368,7 @@ bus_registry_list_services (BusRegistry *registry,
   
  error:
   for (j = 0; j < i; j++)
-    dbus_free (retval[i]);
+    dbus_free (retval[j]);
   dbus_free (retval);
 
   return FALSE;
