$OpenBSD: patch-kde-dev-scripts_qt4_convert-kinstance_pl,v 1.1.1.1 2013/04/24 19:04:15 zhuk Exp $
--- kde-dev-scripts/qt4/convert-kinstance.pl.orig	Sun Apr  7 13:27:40 2013
+++ kde-dev-scripts/qt4/convert-kinstance.pl	Sun Apr  7 14:47:23 2013
@@ -9,7 +9,7 @@ use lib dirname( $0 );
 use functionUtilkde;
 use strict;
 
-open(my $F, q(find -name "*" |));
+open(my $F, "-|", qw(find . -type f));
 my $file;
 
 while ($file = <$F>) {
@@ -18,7 +18,7 @@ while ($file = <$F>) {
 
     my $modified;
     my @necessaryIncludes = ();
-    open(my $FILE, $file) or warn "We can't open file $file:$!\n";
+    open(my $FILE, "<", $file) or warn "We can't open file $file:$!\n";
     my @l = map {
         my $orig = $_;
 
@@ -84,7 +84,7 @@ while ($file = <$F>) {
     } <$FILE>;
 
     if ($modified) {
-        open (my $OUT, ">$file");
+        open (my $OUT, ">", $file);
         print $OUT @l;
     }
 
