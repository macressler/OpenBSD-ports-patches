$OpenBSD: patch-include_shmlog_h,v 1.1 2013/06/02 11:24:06 dcoppa Exp $

OpenBSD lacks pthread_condattr_setpshared()

--- include/shmlog.h.orig	Sun Jun  2 11:09:38 2013
+++ include/shmlog.h	Sun Jun  2 11:11:22 2013
@@ -12,7 +12,9 @@
 #define I3_I3_SHMLOG_H
 
 #include <stdint.h>
+#if !defined(__OpenBSD__)
 #include <pthread.h>
+#endif
 
 /*
  * Header of the shmlog file. Used by i3/src/log.c and i3/i3-dump-log/main.c.
@@ -35,10 +37,12 @@ typedef struct i3_shmlog_header {
      * and don’t matter — clients use an equality check (==). */
     uint32_t wrap_count;
 
+#if !defined(__OpenBSD__)
     /* pthread condvar which will be broadcasted whenever there is a new
      * message in the log. i3-dump-log uses this to implement -f (follow, like
      * tail -f) in an efficient way. */
     pthread_cond_t condvar;
+#endif
 } i3_shmlog_header;
 
 #endif
