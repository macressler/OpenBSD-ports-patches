$OpenBSD: patch-common_mk,v 1.14 2014/01/11 16:04:43 dcoppa Exp $
--- common.mk.orig	Sun Dec 22 21:12:41 2013
+++ common.mk	Fri Jan 10 16:40:03 2014
@@ -1,5 +1,5 @@
 UNAME=$(shell uname)
-DEBUG=1
+DEBUG=0
 COVERAGE=0
 INSTALL=install
 ifndef PREFIX
@@ -109,8 +109,8 @@ X11_CFLAGS := $(call cflags_for_lib, x11)
 X11_LIBS   := $(call ldflags_for_lib, x11,X11)
 
 # Xcursor
-XCURSOR_CFLAGS := $(call cflags_for_lib, xcb-cursor)
-XCURSOR_LIBS   := $(call ldflags_for_lib, xcb-cursor,xcb-cursor)
+XCURSOR_CFLAGS := $(call cflags_for_lib, xcursor)
+XCURSOR_LIBS   := $(call ldflags_for_lib, xcursor,Xcursor)
 
 # yajl
 YAJL_CFLAGS := $(call cflags_for_lib, yajl)
@@ -159,20 +159,13 @@ I3_LDFLAGS += -Wl,-rpath,/usr/local/lib -Wl,-rpath,/us
 endif
 
 ifeq ($(UNAME),OpenBSD)
-I3_CFLAGS += -I${X11BASE}/include
+I3_CFLAGS += -I${X11BASE}/include -I${LOCALBASE}/include
 LIBS += -liconv
-I3_LDFLAGS += -L${X11BASE}/lib
+I3_LDFLAGS += -L${X11BASE}/lib -L${LOCALBASE}/lib
 endif
 
 ifeq ($(UNAME),FreeBSD)
 LIBS += -liconv
-endif
-
-ifeq ($(UNAME),Darwin)
-LIBS += -liconv
-else
-# Darwin (Mac OS X) doesnâ€™t have librt
-LIBS += -lrt
 endif
 
 ifneq (,$(filter Linux GNU GNU/%, $(UNAME)))
